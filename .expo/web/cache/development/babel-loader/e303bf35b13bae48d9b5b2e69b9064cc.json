{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport { Ionicons } from '@expo/vector-icons';\nimport moment from 'moment';\nimport firebase from 'firebase';\nimport { getDatabase, ref, onValue } from 'firebase/database';\nfeedUpdate;\n\nvar HomeScreen = function (_Component) {\n  _inherits(HomeScreen, _Component);\n\n  var _super = _createSuper(HomeScreen);\n\n  function HomeScreen() {\n    var _this;\n\n    _classCallCheck(this, HomeScreen);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      email: \"\",\n      displayName: \"\"\n    };\n\n    _this.renderPost = function (post) {\n      return React.createElement(View, {\n        style: styles.feedItem\n      }, React.createElement(Image, {\n        source: post.avatar,\n        style: styles.avatar\n      }), React.createElement(View, {\n        style: {\n          flex: 1\n        }\n      }, React.createElement(View, {\n        style: {\n          flexDirection: \"row\",\n          justifyContent: \"space-between\",\n          alignItems: \"center\"\n        }\n      }, React.createElement(View, null, React.createElement(Text, {\n        style: styles.name\n      }, post.name), React.createElement(Text, {\n        style: styles.timestamp\n      }, moment(post.timestamp).fromNow())), React.createElement(Ionicons, {\n        name: \"ellipsis-vertical\",\n        size: 24,\n        color: \"#73788B\"\n      })), React.createElement(Text, {\n        style: styles.post\n      }, post.text), React.createElement(Image, {\n        source: post.image,\n        style: styles.postImage,\n        resizeMode: \"cover\"\n      }), React.createElement(View, {\n        style: {\n          flexDirection: \"row\"\n        }\n      }, React.createElement(Ionicons, {\n        name: \"heart\",\n        size: 24,\n        color: \"#73788B\",\n        style: {\n          marginRight: 16\n        }\n      }), React.createElement(Ionicons, {\n        name: \"chatbox\",\n        size: 24,\n        color: \"#73788B\"\n      }))));\n    };\n\n    return _this;\n  }\n\n  _createClass(HomeScreen, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _firebase$auth$curren = firebase.auth().currentUser,\n          email = _firebase$auth$curren.email,\n          displayName = _firebase$auth$curren.displayName;\n      this.setState({\n        email: email,\n        displayName: displayName\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(View, {\n        style: styles.container\n      }, React.createElement(View, {\n        style: styles.header\n      }, React.createElement(Text, {\n        style: styles.headerTitle\n      }, React.createElement(\"h1\", null, \"OldStudentApp\"))), React.createElement(FlatList, {\n        style: styles.feed,\n        data: posts,\n        renderItem: function renderItem(_ref) {\n          var item = _ref.item;\n          return _this2.renderPost(item);\n        },\n        keyExtractor: function keyExtractor(item) {\n          return item.id;\n        },\n        showsVerticalScrollIndicator: false\n      }));\n    }\n  }]);\n\n  return HomeScreen;\n}(Component);\n\nexport { HomeScreen as default };\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#EBECF4\"\n  },\n  header: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    paddingHorizontal: 32,\n    paddingVertical: 12,\n    borderBottomWidth: 1,\n    borderBottomColor: \"#D8D9DB\"\n  },\n  headerTitle: {\n    color: \"#3260a8\",\n    textAlign: \"center\"\n  },\n  feed: {\n    marginHorizontal: 16\n  },\n  feedItem: {\n    backgroundColor: \"#FFF\",\n    borderRadius: 5,\n    padding: 8,\n    flexDirection: \"row\",\n    marginVertical: 8\n  },\n  avatar: {\n    width: 36,\n    height: 36,\n    borderRadius: 18,\n    marginRight: 16\n  },\n  name: {\n    fontSize: 15,\n    fontWeight: \"500\",\n    color: \"#454D65\"\n  },\n  timestamp: {\n    fontSize: 11,\n    color: \"#C4C6CE\",\n    marginTop: 4\n  },\n  post: {\n    marginTop: 16,\n    fontSize: 14,\n    color: \"#838899\"\n  },\n  postImage: {\n    width: undefined,\n    height: 150,\n    borderRadius: 5,\n    marginVertical: 16\n  },\n  error: {\n    color: \"#E9446A\",\n    textAlign: \"center\"\n  },\n  input: {\n    borderBottomColor: \"#8A8F9E\",\n    borderBottomWidth: StyleSheet.hairlineWidth,\n    height: 40,\n    fontSize: 15,\n    color: \"#161F3D\"\n  },\n  h: {\n    blackgroundColor: \"#E9446A\",\n    color: \"#E9446A\",\n    textAlign: \"center\"\n  }\n});","map":{"version":3,"names":["React","Component","Ionicons","moment","firebase","getDatabase","ref","onValue","feedUpdate","HomeScreen","state","email","displayName","renderPost","post","styles","feedItem","avatar","flex","flexDirection","justifyContent","alignItems","name","timestamp","fromNow","text","image","postImage","marginRight","auth","currentUser","setState","container","header","headerTitle","feed","posts","item","id","StyleSheet","create","backgroundColor","paddingHorizontal","paddingVertical","borderBottomWidth","borderBottomColor","color","textAlign","marginHorizontal","borderRadius","padding","marginVertical","width","height","fontSize","fontWeight","marginTop","undefined","error","input","hairlineWidth","h","blackgroundColor"],"sources":["D:/work/AppTest/expo5/screens/HomeScreen.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport { StyleSheet, View, Text, TouchableOpacity, Image, FlatList } from 'react-native'\r\nimport { Ionicons } from '@expo/vector-icons';\r\nimport moment from 'moment';\r\nimport firebase from 'firebase';\r\nimport { getDatabase, ref, onValue } from 'firebase/database';\r\n\r\n/* let posts = [\r\n    {\r\n        id: \"1\",\r\n        name: \"สันติ ยงโต๊ะ\",\r\n        text: \"เซนเซอร์วัดความชื้นในดิน\",\r\n        timestamp: 1631593713016,\r\n        avatar: \"https://firebasestorage.googleapis.com/v0/b/app-ch3-27bc3.appspot.com/o/photos%2FeiHwCEsmY0UiLkAAIYhaI18zmw03%2F1631593711902.jpg?alt=media&token=0b239da9-5494-4330-8211-1df55acd3a16\",\r\n        image: \"https://firebasestorage.googleapis.com/v0/b/app-ch3-27bc3.appspot.com/o/photos%2FeiHwCEsmY0UiLkAAIYhaI18zmw03%2F1631593711902.jpg?alt=media&token=0b239da9-5494-4330-8211-1df55acd3a16\"\r\n    },\r\n    {\r\n        id: \"2\",\r\n        name: \"สันติ ยงโต๊ะ\",\r\n        text: \"RS485 to TTL\",\r\n        timestamp: 1631593650117,\r\n        avatar: \"https://firebasestorage.googleapis.com/v0/b/app-ch3-27bc3.appspot.com/o/photos%2FeiHwCEsmY0UiLkAAIYhaI18zmw03%2F1631593649182.jpg?alt=media&token=e954685b-afa9-465b-a81a-02ac559fcccd\",\r\n        image: \"https://firebasestorage.googleapis.com/v0/b/app-ch3-27bc3.appspot.com/o/photos%2FeiHwCEsmY0UiLkAAIYhaI18zmw03%2F1631593649182.jpg?alt=media&token=e954685b-afa9-465b-a81a-02ac559fcccd\"\r\n    },\r\n    {\r\n        id: \"3\",\r\n        name: \"สันติ ยงโต๊ะ\",\r\n        text: \"RS485 to TTL\",\r\n        timestamp: 1631593650117,\r\n        avatar: \"https://firebasestorage.googleapis.com/v0/b/app-ch3-27bc3.appspot.com/o/photos%2FeiHwCEsmY0UiLkAAIYhaI18zmw03%2F1631593649182.jpg?alt=media&token=e954685b-afa9-465b-a81a-02ac559fcccd\",\r\n        image: \"https://firebasestorage.googleapis.com/v0/b/app-ch3-27bc3.appspot.com/o/photos%2FeiHwCEsmY0UiLkAAIYhaI18zmw03%2F1631593649182.jpg?alt=media&token=e954685b-afa9-465b-a81a-02ac559fcccd\"\r\n    }\r\n]; */\r\n\r\n    feedUpdate\r\n\r\n\r\nexport default class HomeScreen extends Component {\r\n    state = {\r\n        email: \"\",\r\n        displayName: \"\"\r\n    };\r\n\r\n    componentDidMount() {\r\n        const { email, displayName } = firebase.auth().currentUser;\r\n\r\n        this.setState({ email, displayName });\r\n    }\r\n\r\n\r\n    renderPost = post => {\r\n        return (\r\n            <View style={styles.feedItem}>\r\n                <Image source={post.avatar} style={styles.avatar} />\r\n                <View style={{ flex: 1 }}>\r\n                    <View style={{ flexDirection: \"row\", justifyContent: \"space-between\", alignItems: \"center\" }}>\r\n                        <View>\r\n                            <Text style={styles.name}>{post.name}</Text>\r\n                            <Text style={styles.timestamp}>{moment(post.timestamp).fromNow()}</Text>\r\n                        </View>\r\n                        <Ionicons name=\"ellipsis-vertical\" size={24} color=\"#73788B\" />\r\n                    </View>\r\n                    <Text style={styles.post}>{post.text}</Text>\r\n                    <Image source={post.image} style={styles.postImage} resizeMode=\"cover\" />\r\n                    <View style={{ flexDirection: \"row\" }}>\r\n                        <Ionicons name=\"heart\" size={24} color=\"#73788B\" style={{ marginRight: 16 }} />\r\n                        <Ionicons name=\"chatbox\" size={24} color=\"#73788B\" />\r\n                    </View>\r\n                </View>\r\n            </View>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <View style={styles.container}>\r\n                <View style={styles.header}>\r\n                    <Text style={styles.headerTitle}><h1>OldStudentApp</h1></Text>                    \r\n                </View>\r\n                <FlatList\r\n                    style={styles.feed}\r\n                    data={posts}\r\n                    renderItem={({ item }) => this.renderPost(item)}\r\n                    keyExtractor={item => item.id}\r\n                    showsVerticalScrollIndicator={false}\r\n                />\r\n               \r\n            </View>\r\n        )\r\n    }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n\r\n    container: {\r\n        flex: 1,\r\n        backgroundColor: \"#EBECF4\"\r\n    },\r\n    header: {\r\n        flexDirection: \"row\",\r\n        justifyContent: \"space-between\",\r\n        paddingHorizontal: 32,\r\n        paddingVertical: 12,\r\n        borderBottomWidth: 1,\r\n        borderBottomColor: \"#D8D9DB\"\r\n    },\r\n    headerTitle: {\r\n        /* fontSize: 30,\r\n        fontWeight: \"700\", */\r\n        color: \"#3260a8\",\r\n        textAlign: \"center\",\r\n    },\r\n    feed: {\r\n        marginHorizontal: 16\r\n    },\r\n    feedItem: {\r\n        backgroundColor: \"#FFF\",\r\n        borderRadius: 5,\r\n        padding: 8,\r\n        flexDirection: \"row\",\r\n        marginVertical: 8\r\n    },\r\n    avatar: {\r\n        width: 36,\r\n        height: 36,\r\n        borderRadius: 18,\r\n        marginRight: 16\r\n    },\r\n    name: {\r\n        fontSize: 15,\r\n        fontWeight: \"500\",\r\n        color: \"#454D65\"\r\n    },\r\n    timestamp: {\r\n        fontSize: 11,\r\n        color: \"#C4C6CE\",\r\n        marginTop: 4\r\n    },\r\n    post: {\r\n        marginTop: 16,\r\n        fontSize: 14,\r\n        color: \"#838899\"\r\n    },\r\n    postImage: {\r\n        width: undefined,\r\n        height: 150,\r\n        borderRadius: 5,\r\n        marginVertical: 16\r\n    },\r\n    error: {\r\n        color: \"#E9446A\",\r\n        textAlign: \"center\",\r\n    },\r\n    input: {\r\n        borderBottomColor: \"#8A8F9E\",\r\n        borderBottomWidth: StyleSheet.hairlineWidth,\r\n        height: 40,\r\n        fontSize: 15,\r\n        color: \"#161F3D\"\r\n    },\r\n    h: {\r\n        blackgroundColor: \"#E9446A\",\r\n        color: \"#E9446A\",\r\n        textAlign: \"center\",\r\n    },\r\n\r\n})\r\n\r\n\r\n\r\n\r\n/*<View style={styles.container}>\r\n                <View>\r\n                <Text style={styles.h}><h1> HOMEPAGE </h1> {this.state.displayName} </Text>\r\n                </View>\r\n                \r\n                <View>\r\n                <Text><h3> {this.state.email} </h3></Text> \r\n                </View>\r\n            \r\n            \r\n\r\n            <TouchableOpacity style={styles.button} onPress={Fire.shared.signOutUser} >\r\n                <Text><h2>LogOut</h2></Text>\r\n            </TouchableOpacity>\r\n\r\n            </View>*/ "],"mappings":"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"},"metadata":{},"sourceType":"module"}